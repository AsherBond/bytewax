<!DOCTYPE html>

<html lang="en" data-content_root="../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>bytewax.dataflow &#8212; Bytewax API Docs  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=80d5e7a1" />
    <link rel="stylesheet" type="text/css" href="../../_static/alabaster.css?v=c631c1db" />
    <script src="../../_static/documentation_options.js?v=5929fcd5"></script>
    <script src="../../_static/doctools.js?v=888ff710"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="bytewax.inputs" href="bytewax.inputs.html" />
    <link rel="prev" title="bytewax.connectors.stdio" href="bytewax.connectors.stdio.html" />

  <link rel="stylesheet" href="../../_static/custom.css" type="text/css" />





  </head><body>


    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">


          <div class="body" role="main">

  <section id="module-bytewax.dataflow">
<span id="bytewax-dataflow"></span><h1><a class="reference internal" href="#module-bytewax.dataflow" title="bytewax.dataflow"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.dataflow</span></code></a><a class="headerlink" href="#module-bytewax.dataflow" title="Link to this heading">¶</a></h1>
<p>Data model for dataflows and custom operators.</p>
<p>See <a class="reference internal" href="bytewax.operators.html#module-bytewax.operators" title="bytewax.operators"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytewax.operators</span></code></a> for the built-in operators.</p>
<section id="data">
<h2>Data<a class="headerlink" href="#data" title="Link to this heading">¶</a></h2>
<dl class="py data">
<dt class="sig sig-object py" id="bytewax.dataflow.P">
<span class="sig-name descname"><span class="pre">P</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ParamSpec" title="(in Python v3.12)"><span class="pre">ParamSpec</span></a></em><a class="headerlink" href="#bytewax.dataflow.P" title="Link to this definition">¶</a></dt>
<dd><p>Signature of an operator function.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bytewax.dataflow.R">
<span class="sig-name descname"><span class="pre">R</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.12)"><span class="pre">TypeVar</span></a></em><a class="headerlink" href="#bytewax.dataflow.R" title="Link to this definition">¶</a></dt>
<dd><p>Return type of an operator function.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bytewax.dataflow.N">
<span class="sig-name descname"><span class="pre">N</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.12)"><span class="pre">TypeVar</span></a></em><a class="headerlink" href="#bytewax.dataflow.N" title="Link to this definition">¶</a></dt>
<dd><p>Type of name of each stream.</p>
<p>Usually either <a class="reference external" href="https://docs.python.org/3/library/functions.html#int" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">int</span></code></a> if derived from <code class="docutils literal notranslate"><span class="pre">*args</span></code> or <a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">str</span></code></a>
if derived from <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bytewax.dataflow.X_co">
<span class="sig-name descname"><span class="pre">X_co</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.12)"><span class="pre">TypeVar</span></a></em><a class="headerlink" href="#bytewax.dataflow.X_co" title="Link to this definition">¶</a></dt>
<dd><p>Type contained within a <a class="reference internal" href="#bytewax.dataflow.Stream" title="bytewax.dataflow.Stream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream</span></code></a>.</p>
</dd></dl>

<dl class="py data">
<dt class="sig sig-object py" id="bytewax.dataflow.F">
<span class="sig-name descname"><span class="pre">F</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.TypeVar" title="(in Python v3.12)"><span class="pre">TypeVar</span></a></em><a class="headerlink" href="#bytewax.dataflow.F" title="Link to this definition">¶</a></dt>
<dd><p>Type of operator builder function.</p>
</dd></dl>

</section>
<section id="classes">
<h2>Classes<a class="headerlink" href="#classes" title="Link to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="bytewax.dataflow.Port">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Port</span></span><a class="headerlink" href="#bytewax.dataflow.Port" title="Link to this definition">¶</a></dt>
<dd><dl class="myst field-list simple">
<dt class="field-odd">Bases<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Protocol" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Protocol</span></code></a></p></li>
</ul>
</dd>
</dl>
<p>Generic interface to a port.</p>
<p>Either <a class="reference internal" href="#bytewax.dataflow.SinglePort" title="bytewax.dataflow.SinglePort"><code class="xref py py-obj docutils literal notranslate"><span class="pre">SinglePort</span></code></a> or <a class="reference internal" href="#bytewax.dataflow.MultiPort" title="bytewax.dataflow.MultiPort"><code class="xref py py-obj docutils literal notranslate"><span class="pre">MultiPort</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.Port.port_id">
<span class="sig-name descname"><span class="pre">port_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#bytewax.dataflow.Port.port_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.Port.stream_ids">
<span class="sig-name descname"><span class="pre">stream_ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bytewax.dataflow.Port.stream_ids" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bytewax.dataflow.SinglePort">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">SinglePort</span></span><a class="headerlink" href="#bytewax.dataflow.SinglePort" title="Link to this definition">¶</a></dt>
<dd><p>A input or output location on an <a class="reference internal" href="#bytewax.dataflow.Operator" title="bytewax.dataflow.Operator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Operator</span></code></a>.</p>
<p>You won’t be instantiating this manually. The <a class="reference internal" href="#bytewax.dataflow.operator" title="bytewax.dataflow.operator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">operator</span></code></a>
decorator will create these for you whenever an operator function
takes or returns a <a class="reference internal" href="#bytewax.dataflow.Stream" title="bytewax.dataflow.Stream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream</span></code></a>.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.SinglePort.port_id">
<span class="sig-name descname"><span class="pre">port_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#bytewax.dataflow.SinglePort.port_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.SinglePort.stream_id">
<span class="sig-name descname"><span class="pre">stream_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#bytewax.dataflow.SinglePort.stream_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="bytewax.dataflow.SinglePort.stream_ids">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">stream_ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bytewax.dataflow.SinglePort.stream_ids" title="Link to this definition">¶</a></dt>
<dd><p>Allow this to conform to the <a class="reference internal" href="#bytewax.dataflow.Port" title="bytewax.dataflow.Port"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Port</span></code></a> protocol.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bytewax.dataflow.MultiPort">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">MultiPort</span></span><a class="headerlink" href="#bytewax.dataflow.MultiPort" title="Link to this definition">¶</a></dt>
<dd><dl class="myst field-list simple">
<dt class="field-odd">Bases<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generic" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Generic</span></code></a><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#bytewax.dataflow.N" title="bytewax.dataflow.N"><code class="xref py py-obj docutils literal notranslate"><span class="pre">N</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></p></li>
</ul>
</dd>
</dl>
<p>A multi-stream input or output location on an <a class="reference internal" href="#bytewax.dataflow.Operator" title="bytewax.dataflow.Operator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Operator</span></code></a>.</p>
<p>You won’t be instantiating this manually. The <a class="reference internal" href="#bytewax.dataflow.operator" title="bytewax.dataflow.operator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">operator</span></code></a>
decorator will create these for you whenever an operator function
takes or returns a <code class="docutils literal notranslate"><span class="pre">*args</span></code> of <a class="reference internal" href="#bytewax.dataflow.Stream" title="bytewax.dataflow.Stream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream</span></code></a> or <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> of
<a class="reference internal" href="#bytewax.dataflow.Stream" title="bytewax.dataflow.Stream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream</span></code></a>s.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.MultiPort.port_id">
<span class="sig-name descname"><span class="pre">port_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#bytewax.dataflow.MultiPort.port_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.MultiPort.stream_ids">
<span class="sig-name descname"><span class="pre">stream_ids</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Dict" title="(in Python v3.12)"><span class="pre">Dict</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bytewax.dataflow.N" title="bytewax.dataflow.N"><span class="pre">N</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bytewax.dataflow.MultiPort.stream_ids" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bytewax.dataflow.Operator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Operator</span></span><a class="headerlink" href="#bytewax.dataflow.Operator" title="Link to this definition">¶</a></dt>
<dd><p>Base class for an operator type.</p>
<p>Subclasses of this must be generated via the <a class="reference internal" href="#bytewax.dataflow.operator" title="bytewax.dataflow.operator"><code class="xref py py-obj docutils literal notranslate"><span class="pre">operator</span></code></a>
builder function decorator. See <a class="reference external" href="https://bytewax.io/docs/advanced-concepts/extending-python-api#custom-operators">our custom operators
article</a>
for a tutorial.</p>
<p>Subclasses will contain the specific configuration fields each
operator needs.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.Operator.step_name">
<span class="sig-name descname"><span class="pre">step_name</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#bytewax.dataflow.Operator.step_name" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.Operator.step_id">
<span class="sig-name descname"><span class="pre">step_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#bytewax.dataflow.Operator.step_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.Operator.substeps">
<span class="sig-name descname"><span class="pre">substeps</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Self" title="(in Python v3.12)"><span class="pre">Self</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bytewax.dataflow.Operator.substeps" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.Operator.ups_names">
<span class="sig-name descname"><span class="pre">ups_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.12)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bytewax.dataflow.Operator.ups_names" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.Operator.dwn_names">
<span class="sig-name descname"><span class="pre">dwn_names</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.ClassVar" title="(in Python v3.12)"><span class="pre">ClassVar</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bytewax.dataflow.Operator.dwn_names" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bytewax.dataflow.DataflowId">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">DataflowId</span></span><a class="headerlink" href="#bytewax.dataflow.DataflowId" title="Link to this definition">¶</a></dt>
<dd><p>Unique ID of a dataflow.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.DataflowId.flow_id">
<span class="sig-name descname"><span class="pre">flow_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#bytewax.dataflow.DataflowId.flow_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bytewax.dataflow.Dataflow">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Dataflow</span></span><a class="headerlink" href="#bytewax.dataflow.Dataflow" title="Link to this definition">¶</a></dt>
<dd><p>Dataflow definition.</p>
<p>Once you instantiate this, Use the <a class="reference internal" href="bytewax.operators.html#module-bytewax.operators" title="bytewax.operators"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytewax.operators</span></code></a>
(e.g. <a class="reference internal" href="bytewax.operators.html#bytewax.operators.input" title="bytewax.operators.input"><code class="xref py py-obj docutils literal notranslate"><span class="pre">input</span></code></a>) to create
<a class="reference internal" href="#bytewax.dataflow.Stream" title="bytewax.dataflow.Stream"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Stream</span></code></a>s.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.Dataflow.flow_id">
<span class="sig-name descname"><span class="pre">flow_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#bytewax.dataflow.Dataflow.flow_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.Dataflow.substeps">
<span class="sig-name descname"><span class="pre">substeps</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.List" title="(in Python v3.12)"><span class="pre">List</span></a><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#bytewax.dataflow.Operator" title="bytewax.dataflow.Operator"><span class="pre">Operator</span></a><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#bytewax.dataflow.Dataflow.substeps" title="Link to this definition">¶</a></dt>
<dd><p>‘field(…)’</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="bytewax.dataflow.Stream">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">Stream</span></span><a class="headerlink" href="#bytewax.dataflow.Stream" title="Link to this definition">¶</a></dt>
<dd><dl class="myst field-list simple">
<dt class="field-odd">Bases<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Generic" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">Generic</span></code></a><code class="docutils literal notranslate"><span class="pre">[</span></code><a class="reference internal" href="#bytewax.dataflow.X_co" title="bytewax.dataflow.X_co"><code class="xref py py-obj docutils literal notranslate"><span class="pre">X_co</span></code></a><code class="docutils literal notranslate"><span class="pre">]</span></code></p></li>
</ul>
</dd>
</dl>
<p>Handle to a specific stream of items you can add steps to.</p>
<p>You won’t be instantiating this manually. Use the
<a class="reference internal" href="bytewax.operators.html#module-bytewax.operators" title="bytewax.operators"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytewax.operators</span></code></a> (e.g.
<a class="reference internal" href="bytewax.operators.html#bytewax.operators.map" title="bytewax.operators.map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">map</span></code></a>,
<a class="reference internal" href="bytewax.operators.html#bytewax.operators.filter" title="bytewax.operators.filter"><code class="xref py py-obj docutils literal notranslate"><span class="pre">filter</span></code></a>,
<a class="reference internal" href="bytewax.operators.html#bytewax.operators.key_on" title="bytewax.operators.key_on"><code class="xref py py-obj docutils literal notranslate"><span class="pre">key_on</span></code></a>) to create streams.</p>
<p>You can reference this stream multiple times to duplicate the data
within.</p>
<p>Operator functions take or return this if they want to create an
input or output port.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="bytewax.dataflow.Stream.stream_id">
<span class="sig-name descname"><span class="pre">stream_id</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></em><a class="headerlink" href="#bytewax.dataflow.Stream.stream_id" title="Link to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bytewax.dataflow.Stream.flow">
<span class="sig-name descname"><span class="pre">flow</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#bytewax.dataflow.Dataflow" title="bytewax.dataflow.Dataflow"><span class="pre">Dataflow</span></a></span></span><a class="headerlink" href="#bytewax.dataflow.Stream.flow" title="Link to this definition">¶</a></dt>
<dd><p>The containing dataflow.</p>
<p>You might want access to this to add “top level” operators
like <a class="reference internal" href="bytewax.operators.html#bytewax.operators.merge" title="bytewax.operators.merge"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytewax.operators.merge</span></code></a>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bytewax.dataflow.Stream.then">
<span class="sig-name descname"><span class="pre">then</span></span><span class="sig-paren">(</span>

<dl>
<dd><em class="sig-param"><span class="n"><span class="pre">op_fn</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.12)"><span class="pre">Callable</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Concatenate" title="(in Python v3.12)"><span class="pre">Concatenate</span></a><span class="p"><span class="pre">[</span></span><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Self" title="(in Python v3.12)"><span class="pre">Self</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#bytewax.dataflow.P" title="bytewax.dataflow.P"><span class="pre">P</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#bytewax.dataflow.R" title="bytewax.dataflow.R"><span class="pre">R</span></a><span class="p"><span class="pre">]</span></span></span></em>,</dd>
<dd><em class="sig-param"><span class="n"><span class="pre">step_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#bytewax.dataflow.P" title="bytewax.dataflow.P"><span class="pre">P</span></a></span></em>,</dd>
<dd><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#bytewax.dataflow.P" title="bytewax.dataflow.P"><span class="pre">P</span></a></span></em>,</dd>
</dl>

<span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#bytewax.dataflow.R" title="bytewax.dataflow.R"><span class="pre">R</span></a></span></span><a class="headerlink" href="#bytewax.dataflow.Stream.then" title="Link to this definition">¶</a></dt>
<dd><p>Chain a new step onto this stream.</p>
<p>This allows you to add intermediate steps to a dataflow
without needing to nest operator function calls or make
intermediate variables.</p>
<p>The following two dataflow definitions are equivalent:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">bytewax.operators</span> <span class="k">as</span> <span class="nn">op</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bytewax.testing</span> <span class="kn">import</span> <span class="n">run_main</span><span class="p">,</span> <span class="n">TestingSource</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">bytewax.dataflow</span> <span class="kn">import</span> <span class="n">Dataflow</span>
<span class="linenos">4</span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">add_one</span><span class="p">(</span><span class="n">item</span><span class="p">):</span>
<span class="linenos">5</span><span class="gp">... </span>    <span class="k">return</span> <span class="n">item</span> <span class="o">+</span> <span class="mi">1</span>
</pre></div>
</div>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">flow</span> <span class="o">=</span> <span class="n">Dataflow</span><span class="p">(</span><span class="s2">&quot;map_eg&quot;</span><span class="p">)</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="s2">&quot;inp&quot;</span><span class="p">,</span> <span class="n">flow</span><span class="p">,</span> <span class="n">TestingSource</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="s2">&quot;add_one&quot;</span><span class="p">,</span> <span class="n">s</span><span class="p">,</span> <span class="n">add_one</span><span class="p">)</span>
</pre></div>
</div>
<p>and</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="n">flow</span> <span class="o">=</span> <span class="n">Dataflow</span><span class="p">(</span><span class="s2">&quot;map_eg&quot;</span><span class="p">)</span>
<span class="linenos">2</span><span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">op</span><span class="o">.</span><span class="n">input</span><span class="p">(</span><span class="s2">&quot;inp&quot;</span><span class="p">,</span> <span class="n">flow</span><span class="p">,</span> <span class="n">TestingSource</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">)))</span><span class="o">.</span><span class="n">then</span><span class="p">(</span>
<span class="linenos">3</span><span class="gp">... </span>    <span class="n">op</span><span class="o">.</span><span class="n">map</span><span class="p">,</span> <span class="s2">&quot;add_one&quot;</span><span class="p">,</span> <span class="n">add_one</span>
<span class="linenos">4</span><span class="gp">... </span><span class="p">)</span>
</pre></div>
</div>
<p>This kind of method chaining is called a “fluent style API”.</p>
<p>Because this style requires a single upstream before the
method calling <code class="docutils literal notranslate"><span class="pre">.</span></code>, this transformation only works for
operators that could be called like <code class="docutils literal notranslate"><span class="pre">op_fn(step_id,</span> <span class="pre">upstream,</span> <span class="pre">...)</span></code>, like <a class="reference internal" href="bytewax.operators.html#bytewax.operators.map" title="bytewax.operators.map"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytewax.operators.map</span></code></a>. It will not work
for operators like <a class="reference internal" href="bytewax.operators.html#bytewax.operators.join_named" title="bytewax.operators.join_named"><code class="xref py py-obj docutils literal notranslate"><span class="pre">bytewax.operators.join_named</span></code></a>,
since they do not have that shape of function signature.</p>
<dl class="myst field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>step_id</strong> – Unique ID.</p></li>
<li><p><strong>op_fn</strong> – Operator function. This fluent transformation only
works on operators that take a single stream as the second
argument.</p></li>
<li><p><strong>*args</strong> – Remaining arguments to pass to <code class="docutils literal notranslate"><span class="pre">op_fn</span></code>.</p></li>
<li><p><strong>**kwargs</strong> – Remaining arguments to pass to <code class="docutils literal notranslate"><span class="pre">op_fn</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="docutils literal notranslate"><span class="pre">op_fun</span></code>’s return value as if called normally.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="bytewax.dataflow.f_repr">
<span class="sig-name descname"><span class="pre">f_repr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.12)"><span class="pre">Callable</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/stdtypes.html#str" title="(in Python v3.12)"><span class="pre">str</span></a></span></span><a class="headerlink" href="#bytewax.dataflow.f_repr" title="Link to this definition">¶</a></dt>
<dd><p>Nicer function <a class="reference external" href="https://docs.python.org/3/library/functions.html#repr" title="(in Python v3.12)"><code class="xref py py-obj docutils literal notranslate"><span class="pre">repr</span></code></a> showing module and line number.</p>
<p>Use this to help with writing easier to debug exceptions in your
operators.</p>
<p>The built in repr just shows a memory address.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="linenos">1</span><span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">my_f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
<span class="linenos">2</span><span class="gp">... </span>    <span class="k">pass</span>
<span class="linenos">3</span><span class="gp">&gt;&gt;&gt; </span><span class="n">f_repr</span><span class="p">(</span><span class="n">my_f</span><span class="p">)</span>
<span class="linenos">4</span><span class="go">&quot;&lt;function &#39;bytewax.dataflow.my_f&#39; line 1&gt;&quot;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="bytewax.dataflow.operator">
<span class="sig-name descname"><span class="pre">operator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">builder</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_core</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference external" href="https://docs.python.org/3/library/functions.html#bool" title="(in Python v3.12)"><span class="pre">bool</span></a></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference external" href="https://docs.python.org/3/library/typing.html#typing.Callable" title="(in Python v3.12)"><span class="pre">Callable</span></a></span></span><a class="headerlink" href="#bytewax.dataflow.operator" title="Link to this definition">¶</a></dt>
<dd><p>Function decorator to define a new operator.</p>
<p>See <a class="reference external" href="https://bytewax.io/docs/advanced-concepts/extending-python-api#custom-operators">our custom operators
article</a>
for how to use this.</p>
</dd></dl>

</section>
</section>


          </div>

        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="bytewax.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax</span></code></a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="bytewax.html#submodules">Submodules</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="bytewax.connectors.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.connectors</span></code></a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.dataflow</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="#data">Data</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.P"><code class="docutils literal notranslate"><span class="pre">P</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.R"><code class="docutils literal notranslate"><span class="pre">R</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.N"><code class="docutils literal notranslate"><span class="pre">N</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.X_co"><code class="docutils literal notranslate"><span class="pre">X_co</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.F"><code class="docutils literal notranslate"><span class="pre">F</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#classes">Classes</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.Port"><code class="docutils literal notranslate"><span class="pre">Port</span></code></a><ul>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Port.port_id"><code class="docutils literal notranslate"><span class="pre">port_id</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Port.stream_ids"><code class="docutils literal notranslate"><span class="pre">stream_ids</span></code></a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.SinglePort"><code class="docutils literal notranslate"><span class="pre">SinglePort</span></code></a><ul>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.SinglePort.port_id"><code class="docutils literal notranslate"><span class="pre">port_id</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.SinglePort.stream_id"><code class="docutils literal notranslate"><span class="pre">stream_id</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.SinglePort.stream_ids"><code class="docutils literal notranslate"><span class="pre">stream_ids</span></code></a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.MultiPort"><code class="docutils literal notranslate"><span class="pre">MultiPort</span></code></a><ul>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.MultiPort.port_id"><code class="docutils literal notranslate"><span class="pre">port_id</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.MultiPort.stream_ids"><code class="docutils literal notranslate"><span class="pre">stream_ids</span></code></a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.Operator"><code class="docutils literal notranslate"><span class="pre">Operator</span></code></a><ul>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Operator.step_name"><code class="docutils literal notranslate"><span class="pre">step_name</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Operator.step_id"><code class="docutils literal notranslate"><span class="pre">step_id</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Operator.substeps"><code class="docutils literal notranslate"><span class="pre">substeps</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Operator.ups_names"><code class="docutils literal notranslate"><span class="pre">ups_names</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Operator.dwn_names"><code class="docutils literal notranslate"><span class="pre">dwn_names</span></code></a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.DataflowId"><code class="docutils literal notranslate"><span class="pre">DataflowId</span></code></a><ul>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.DataflowId.flow_id"><code class="docutils literal notranslate"><span class="pre">flow_id</span></code></a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.Dataflow"><code class="docutils literal notranslate"><span class="pre">Dataflow</span></code></a><ul>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Dataflow.flow_id"><code class="docutils literal notranslate"><span class="pre">flow_id</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Dataflow.substeps"><code class="docutils literal notranslate"><span class="pre">substeps</span></code></a></li>
</ul>
</li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.Stream"><code class="docutils literal notranslate"><span class="pre">Stream</span></code></a><ul>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Stream.stream_id"><code class="docutils literal notranslate"><span class="pre">stream_id</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Stream.flow"><code class="docutils literal notranslate"><span class="pre">flow()</span></code></a></li>
<li class="toctree-l7"><a class="reference internal" href="#bytewax.dataflow.Stream.then"><code class="docutils literal notranslate"><span class="pre">then()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="#functions">Functions</a><ul>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.f_repr"><code class="docutils literal notranslate"><span class="pre">f_repr()</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="#bytewax.dataflow.operator"><code class="docutils literal notranslate"><span class="pre">operator()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="bytewax.inputs.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.inputs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="bytewax.operators.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.operators</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="bytewax.outputs.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.outputs</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="bytewax.recovery.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.recovery</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="bytewax.run.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.run</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="bytewax.serde.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.serde</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="bytewax.testing.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.testing</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="bytewax.tracing.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">bytewax.tracing</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">


    </div>




  </body>
</html>
